[debug] [2022-12-20T10:03:33.615Z] ----------------------------------------------------------------------
[debug] [2022-12-20T10:03:33.615Z] Command:       /Users/wes/.nvm/versions/node/v16.13.1/bin/node /Users/wes/.nvm/versions/node/v17.3.0/bin/firebase emulators:start
[debug] [2022-12-20T10:03:33.616Z] CLI Version:   11.18.0
[debug] [2022-12-20T10:03:33.616Z] Platform:      darwin
[debug] [2022-12-20T10:03:33.616Z] Node Version:  v16.13.1
[debug] [2022-12-20T10:03:33.617Z] Time:          Tue Dec 20 2022 02:03:33 GMT-0800 (Pacific Standard Time)
[debug] [2022-12-20T10:03:33.617Z] ----------------------------------------------------------------------
[debug] 
[debug] [2022-12-20T10:03:33.654Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2022-12-20T10:03:33.655Z] > authorizing via signed-in user (wes@pugsllc.com)
[info] i  emulators: Starting emulators: functions, hosting {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions, hosting"}}
[debug] [2022-12-20T10:03:34.570Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2022-12-20T10:03:34.570Z] [hosting] Hosting Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2022-12-20T10:03:34.570Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"hosting":[{"address":"127.0.0.1","family":"IPv4","port":8080}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2022-12-20T10:03:34.574Z] [hub] writing locator at /var/folders/2n/s8gv8z2s40bbhz9_z1k727jc0000gn/T/hub-pugsllc.json
[debug] [2022-12-20T10:03:35.040Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2022-12-20T10:03:35.040Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2022-12-20T10:03:35.040Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"hosting":[{"address":"127.0.0.1","family":"IPv4","port":8080}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: auth, firestore, database, pubsub, storage {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mauth, firestore, database, pubsub, storage\u001b[22m"}}
[info] ✔  functions: Using node@16 from host. {"metadata":{"emulator":{"name":"functions"},"message":"Using node@16 from host."}}
[debug] [2022-12-20T10:03:35.045Z] defaultcredentials: writing to file /Users/wes/.config/firebase/wes_pugsllc_com_application_default_credentials.json
[debug] [2022-12-20T10:03:35.050Z] Setting GAC to /Users/wes/.config/firebase/wes_pugsllc_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /Users/wes/.config/firebase/wes_pugsllc_com_application_default_credentials.json"}}
[debug] [2022-12-20T10:03:35.051Z] > refreshing access token with scopes: []
[debug] [2022-12-20T10:03:35.051Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2022-12-20T10:03:35.052Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2022-12-20T10:03:35.187Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 400
[debug] [2022-12-20T10:03:35.187Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2022-12-20T10:03:35.187Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/pugsllc/adminSdkConfig [none]
[debug] [2022-12-20T10:03:35.408Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/pugsllc/adminSdkConfig 401
[debug] [2022-12-20T10:03:35.408Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/pugsllc/adminSdkConfig {"error":{"code":401,"message":"Request had invalid authentication credentials. Expected OAuth 2 access token, login cookie or other valid authentication credential. See https://developers.google.com/identity/sign-in/web/devconsole-project.","status":"UNAUTHENTICATED"}}
[debug] [2022-12-20T10:03:35.409Z] Failed to get Admin SDK config for pugsllc, falling back to cacheFailed to get Admin SDK for Firebase project pugsllc. Please make sure the project exists and your account has permission to access it. {"name":"FirebaseError","children":[],"exit":2,"message":"Failed to get Admin SDK for Firebase project pugsllc. Please make sure the project exists and your account has permission to access it.","original":{"name":"FirebaseError","children":[],"context":{"body":{"error":{"code":401,"message":"Request had invalid authentication credentials. Expected OAuth 2 access token, login cookie or other valid authentication credential. See https://developers.google.com/identity/sign-in/web/devconsole-project.","status":"UNAUTHENTICATED"}},"response":{"statusCode":401}},"exit":1,"message":"HTTP Error: 401, Request had invalid authentication credentials. Expected OAuth 2 access token, login cookie or other valid authentication credential. See https://developers.google.com/identity/sign-in/web/devconsole-project.","status":401},"status":500}
[debug] [2022-12-20T10:03:35.415Z] > refreshing access token with scopes: []
[debug] [2022-12-20T10:03:35.415Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2022-12-20T10:03:35.415Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2022-12-20T10:03:35.533Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 400
[debug] [2022-12-20T10:03:35.533Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2022-12-20T10:03:35.534Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/pugsllc/sites 
[debug] [2022-12-20T10:03:35.858Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/pugsllc/sites 401
[debug] [2022-12-20T10:03:35.858Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/pugsllc/sites {"error":{"code":401,"message":"Request had invalid authentication credentials. Expected OAuth 2 access token, login cookie or other valid authentication credential. See https://developers.google.com/identity/sign-in/web/devconsole-project.","status":"UNAUTHENTICATED"}}
[debug] [2022-12-20T10:03:35.858Z] Failed to list hosting sites
[debug] HTTP Error: 401, Request had invalid authentication credentials. Expected OAuth 2 access token, login cookie or other valid authentication credential. See https://developers.google.com/identity/sign-in/web/devconsole-project.
[debug] [2022-12-20T10:03:35.858Z] > refreshing access token with scopes: []
[debug] [2022-12-20T10:03:35.858Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2022-12-20T10:03:35.858Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2022-12-20T10:03:35.987Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 400
[debug] [2022-12-20T10:03:35.987Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2022-12-20T10:03:35.987Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/pugsllc/webApps/-/config [none]
[debug] [2022-12-20T10:03:36.194Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/pugsllc/webApps/-/config 401
[debug] [2022-12-20T10:03:36.195Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/pugsllc/webApps/-/config {"error":{"code":401,"message":"Request had invalid authentication credentials. Expected OAuth 2 access token, login cookie or other valid authentication credential. See https://developers.google.com/identity/sign-in/web/devconsole-project.","status":"UNAUTHENTICATED"}}
[debug] [2022-12-20T10:03:36.195Z] fetchWebSetup error: FirebaseError: HTTP Error: 401, Request had invalid authentication credentials. Expected OAuth 2 access token, login cookie or other valid authentication credential. See https://developers.google.com/identity/sign-in/web/devconsole-project.
[warn] ⚠  hosting: Using web app configuration from cache. 
[debug] [2022-12-20T10:03:36.196Z] > refreshing access token with scopes: []
[debug] [2022-12-20T10:03:36.196Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2022-12-20T10:03:36.196Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2022-12-20T10:03:36.315Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 400
[debug] [2022-12-20T10:03:36.316Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2022-12-20T10:03:36.316Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/pugsllc [none]
[debug] [2022-12-20T10:03:36.530Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/pugsllc 401
[debug] [2022-12-20T10:03:36.530Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/pugsllc {"error":{"code":401,"message":"Request had invalid authentication credentials. Expected OAuth 2 access token, login cookie or other valid authentication credential. See https://developers.google.com/identity/sign-in/web/devconsole-project.","status":"UNAUTHENTICATED"}}
[debug] [2022-12-20T10:03:36.530Z] HTTP Error: 401, Request had invalid authentication credentials. Expected OAuth 2 access token, login cookie or other valid authentication credential. See https://developers.google.com/identity/sign-in/web/devconsole-project.
[info] i  hosting[pugsllc]: Serving hosting files from: public {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mpublic\u001b[22m"}}
[info] ✔  hosting[pugsllc]: Local server: http://127.0.0.1:8080 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://127.0.0.1:8080\u001b[22m\u001b[24m"}}
[debug] [2022-12-20T10:03:36.663Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2022-12-20T10:03:36.663Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2022-12-20T10:03:36.663Z] Starting Emulator UI with command {"binary":"node","args":["/Users/wes/.cache/firebase/emulators/ui-v1.11.1/server/server.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"/Users/wes/.cache/firebase/emulators/ui-v1.11.1/server/server.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2022-12-20T10:03:36.735Z] Web / API server started at 127.0.0.1:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at 127.0.0.1:4000\n"}}
[debug] [2022-12-20T10:03:36.735Z] Web / API server started at ::1:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at ::1:4000\n"}}
[info] i  functions: Watching "/Users/wes/Development/pugsllc/pugsllc.com/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/Users/wes/Development/pugsllc/pugsllc.com/functions\" for Cloud Functions..."}}
[debug] [2022-12-20T10:03:36.923Z] Validating nodejs source
[debug] [2022-12-20T10:03:37.687Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@sendgrid/mail": "^7.7.0",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^4.1.1"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^0.2.0",
    "typescript": "^4.5.4"
  },
  "private": true
}
[debug] [2022-12-20T10:03:37.687Z] Building nodejs source
[debug] [2022-12-20T10:03:37.687Z] Analyzing nodejs backend spec
[debug] [2022-12-20T10:03:37.688Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-12-20T10:03:37.985Z] Serving at port 9007

[debug] [2022-12-20T10:03:38.164Z] Got response from /__/functions.yaml {"endpoints":{"sendEmail":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"region":["us-west1"],"secretEnvironmentVariables":[{"key":"SENDGRID_API_KEY"}],"httpsTrigger":{},"entryPoint":"sendEmail"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-12-20T10:03:38.168Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: sendEmail. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: sendEmail."}}
[info] ✔  functions[us-west1-sendEmail]: http function initialized (http://127.0.0.1:5001/pugsllc/us-west1/sendEmail). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/pugsllc/us-west1/sendEmail)."}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ 127.0.0.1:5001 │ http://127.0.0.1:4000/functions │
├───────────┼────────────────┼─────────────────────────────────┤
│ Hosting   │ 127.0.0.1:8080 │ n/a                             │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub running at 127.0.0.1:4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[info] i  hosting: 127.0.0.1 - - [20/Dec/2022:10:03:42 +0000] "GET /contact HTTP/1.1" 200 673 "-" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:108.0) Gecko/20100101 Firefox/108.0" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [20/Dec/2022:10:03:42 +0000] \"GET /contact HTTP/1.1\" 200 673 \"-\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:108.0) Gecko/20100101 Firefox/108.0\""}}
[info] i  hosting: 127.0.0.1 - - [20/Dec/2022:10:03:42 +0000] "GET /assets/index-9396cb09.css HTTP/1.1" 200 - "http://127.0.0.1:8080/contact" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:108.0) Gecko/20100101 Firefox/108.0" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [20/Dec/2022:10:03:42 +0000] \"GET /assets/index-9396cb09.css HTTP/1.1\" 200 - \"http://127.0.0.1:8080/contact\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:108.0) Gecko/20100101 Firefox/108.0\""}}
[info] i  hosting: 127.0.0.1 - - [20/Dec/2022:10:03:42 +0000] "GET /assets/index-4c6c9e86.js HTTP/1.1" 200 - "http://127.0.0.1:8080/contact" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:108.0) Gecko/20100101 Firefox/108.0" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [20/Dec/2022:10:03:42 +0000] \"GET /assets/index-4c6c9e86.js HTTP/1.1\" 200 - \"http://127.0.0.1:8080/contact\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:108.0) Gecko/20100101 Firefox/108.0\""}}
[info] i  hosting: 127.0.0.1 - - [20/Dec/2022:10:03:42 +0000] "GET /assets/logo-28a324c3.png HTTP/1.1" 200 183765 "http://127.0.0.1:8080/contact" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:108.0) Gecko/20100101 Firefox/108.0" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [20/Dec/2022:10:03:42 +0000] \"GET /assets/logo-28a324c3.png HTTP/1.1\" 200 183765 \"http://127.0.0.1:8080/contact\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:108.0) Gecko/20100101 Firefox/108.0\""}}
[info] i  hosting: 127.0.0.1 - - [20/Dec/2022:10:03:42 +0000] "GET /assets/cloudflare-6c6d8473.svg HTTP/1.1" 200 - "http://127.0.0.1:8080/contact" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:108.0) Gecko/20100101 Firefox/108.0" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [20/Dec/2022:10:03:42 +0000] \"GET /assets/cloudflare-6c6d8473.svg HTTP/1.1\" 200 - \"http://127.0.0.1:8080/contact\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:108.0) Gecko/20100101 Firefox/108.0\""}}
[info] i  hosting: 127.0.0.1 - - [20/Dec/2022:10:03:42 +0000] "GET /assets/firebase-35235a19.svg HTTP/1.1" 200 - "http://127.0.0.1:8080/contact" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:108.0) Gecko/20100101 Firefox/108.0" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [20/Dec/2022:10:03:42 +0000] \"GET /assets/firebase-35235a19.svg HTTP/1.1\" 200 - \"http://127.0.0.1:8080/contact\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:108.0) Gecko/20100101 Firefox/108.0\""}}
[info] i  hosting: 127.0.0.1 - - [20/Dec/2022:10:03:42 +0000] "GET /assets/favicon-efd656ae.ico HTTP/1.1" 200 - "http://127.0.0.1:8080/contact" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:108.0) Gecko/20100101 Firefox/108.0" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [20/Dec/2022:10:03:42 +0000] \"GET /assets/favicon-efd656ae.ico HTTP/1.1\" 200 - \"http://127.0.0.1:8080/contact\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:108.0) Gecko/20100101 Firefox/108.0\""}}
[debug] [2022-12-20T10:05:29.823Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-12-20T10:05:29.824Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-12-20T10:05:29.824Z] Accepted request POST /pugsllc/us-west1/sendEmail --> us-west1-sendEmail
[debug] [2022-12-20T10:05:29.828Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-12-20T10:05:29.829Z] [functions] Got req.url=/pugsllc/us-west1/sendEmail, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/pugsllc/us-west1/sendEmail, mapping to path=/"}}
[info] i  functions: Loaded environment variables from .env.local. 
[debug] [2022-12-20T10:05:29.832Z] > refreshing access token with scopes: []
[debug] [2022-12-20T10:05:29.833Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2022-12-20T10:05:29.834Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2022-12-20T10:05:29.979Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 400
[debug] [2022-12-20T10:05:29.979Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2022-12-20T10:05:29.979Z] >>> [apiv2][query] GET https://secretmanager.googleapis.com/v1/projects/pugsllc/secrets/SENDGRID_API_KEY/versions/latest:access [none]
[debug] [2022-12-20T10:05:30.084Z] <<< [apiv2][status] GET https://secretmanager.googleapis.com/v1/projects/pugsllc/secrets/SENDGRID_API_KEY/versions/latest:access 401
[debug] [2022-12-20T10:05:30.084Z] <<< [apiv2][body] GET https://secretmanager.googleapis.com/v1/projects/pugsllc/secrets/SENDGRID_API_KEY/versions/latest:access {"error":{"code":401,"message":"Request had invalid authentication credentials. Expected OAuth 2 access token, login cookie or other valid authentication credential. See https://developers.google.com/identity/sign-in/web/devconsole-project.","status":"UNAUTHENTICATED","details":[{"@type":"type.googleapis.com/google.rpc.ErrorInfo","reason":"ACCESS_TOKEN_TYPE_UNSUPPORTED","metadata":{"method":"google.cloud.secretmanager.v1.SecretManagerService.AccessSecretVersion","service":"secretmanager.googleapis.com"}}]}}
[error] ⬢  functions: Unable to access secret environment variables from Google Cloud Secret Manager. Make sure the credential used for the Functions Emulator have access or provide override values in /Users/wes/Development/pugsllc/pugsllc.com/functions/.secret.local:
	FirebaseError: HTTP Error: 401, Request had invalid authentication credentials. Expected OAuth 2 access token, login cookie or other valid authentication credential. See https://developers.google.com/identity/sign-in/web/devconsole-project. {"metadata":{"emulator":{"name":"functions"},"message":"Unable to access secret environment variables from Google Cloud Secret Manager. Make sure the credential used for the Functions Emulator have access or provide override values in /Users/wes/Development/pugsllc/pugsllc.com/functions/.secret.local:\n\tFirebaseError: HTTP Error: 401, Request had invalid authentication credentials. Expected OAuth 2 access token, login cookie or other valid authentication credential. See https://developers.google.com/identity/sign-in/web/devconsole-project."}}
[debug] [2022-12-20T10:05:30.092Z] [worker-pool] addWorker(us-west1-sendEmail) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-west1-sendEmail)"}}
[debug] [2022-12-20T10:05:30.093Z] [worker-pool] Adding worker with key us-west1-sendEmail, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-west1-sendEmail, total=1"}}
[debug] [2022-12-20T10:05:30.440Z] [runtime-status] [39377] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/wes/Development/pugsllc/pugsllc.com/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-west1-sendEmail"},"extension":{},"message":"[runtime-status] [39377] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/wes/Development/pugsllc/pugsllc.com/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-12-20T10:05:30.441Z] [runtime-status] [39377] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"/Users/wes/Development/pugsllc/pugsllc.com/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-west1-sendEmail"},"extension":{},"message":"[runtime-status] [39377] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"/Users/wes/Development/pugsllc/pugsllc.com/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2022-12-20T10:05:30.441Z] [runtime-status] [39377] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-west1-sendEmail"},"extension":{},"message":"[runtime-status] [39377] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-12-20T10:05:30.441Z] [runtime-status] [39377] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"/Users/wes/Development/pugsllc/pugsllc.com/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-west1-sendEmail"},"extension":{},"message":"[runtime-status] [39377] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"/Users/wes/Development/pugsllc/pugsllc.com/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2022-12-20T10:05:30.490Z] [runtime-status] [39377] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-west1-sendEmail"},"extension":{},"message":"[runtime-status] [39377] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-12-20T10:05:30.490Z] [runtime-status] [39377] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.1.1","resolution":"/Users/wes/Development/pugsllc/pugsllc.com/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-west1-sendEmail"},"extension":{},"message":"[runtime-status] [39377] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"/Users/wes/Development/pugsllc/pugsllc.com/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2022-12-20T10:05:30.491Z] [runtime-status] [39377] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"/Users/wes/Development/pugsllc/pugsllc.com/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-west1-sendEmail"},"extension":{},"message":"[runtime-status] [39377] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"/Users/wes/Development/pugsllc/pugsllc.com/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2022-12-20T10:05:30.492Z] [runtime-status] [39377] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/wes/Development/pugsllc/pugsllc.com/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-west1-sendEmail"},"extension":{},"message":"[runtime-status] [39377] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/wes/Development/pugsllc/pugsllc.com/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-12-20T10:05:30.493Z] [runtime-status] [39377] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.1.1","resolution":"/Users/wes/Development/pugsllc/pugsllc.com/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-west1-sendEmail"},"extension":{},"message":"[runtime-status] [39377] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.1.1\",\"resolution\":\"/Users/wes/Development/pugsllc/pugsllc.com/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2022-12-20T10:05:30.493Z] [runtime-status] [39377] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/wes/Development/pugsllc/pugsllc.com/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-west1-sendEmail"},"extension":{},"message":"[runtime-status] [39377] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/wes/Development/pugsllc/pugsllc.com/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-12-20T10:05:30.502Z] [runtime-status] [39377] Functions runtime initialized. {"cwd":"/Users/wes/Development/pugsllc/pugsllc.com/functions","node_version":"16.13.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-west1-sendEmail"},"extension":{},"message":"[runtime-status] [39377] Functions runtime initialized. {\"cwd\":\"/Users/wes/Development/pugsllc/pugsllc.com/functions\",\"node_version\":\"16.13.1\"}"}}
[debug] [2022-12-20T10:05:30.502Z] [runtime-status] [39377] Listening to port: /var/folders/2n/s8gv8z2s40bbhz9_z1k727jc0000gn/T/fire_emu_4f19bdb7c5825380.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-west1-sendEmail"},"extension":{},"message":"[runtime-status] [39377] Listening to port: /var/folders/2n/s8gv8z2s40bbhz9_z1k727jc0000gn/T/fire_emu_4f19bdb7c5825380.sock"}}
[debug] [2022-12-20T10:05:30.605Z] [worker-us-west1-sendEmail-f071d881-d79f-412f-90d2-f407ecae87e7]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-west1-sendEmail-f071d881-d79f-412f-90d2-f407ecae87e7]: IDLE"}}
[debug] [2022-12-20T10:05:30.605Z] [worker-pool] submitRequest(triggerId=us-west1-sendEmail) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-west1-sendEmail)"}}
[debug] [2022-12-20T10:05:30.606Z] [worker-us-west1-sendEmail-f071d881-d79f-412f-90d2-f407ecae87e7]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-west1-sendEmail-f071d881-d79f-412f-90d2-f407ecae87e7]: BUSY"}}
[info] i  functions: Beginning execution of "sendEmail" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-west1-sendEmail"},"extension":{},"message":"Beginning execution of \"sendEmail\""}}
[debug] [2022-12-20T10:05:30.626Z] [worker-us-west1-sendEmail-f071d881-d79f-412f-90d2-f407ecae87e7]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-west1-sendEmail-f071d881-d79f-412f-90d2-f407ecae87e7]: IDLE"}}
[debug] [2022-12-20T10:05:30.626Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] i  functions: Finished "sendEmail" in 13.124333ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-west1-sendEmail"},"extension":{},"message":"Finished \"sendEmail\" in 13.124333ms"}}
[info] >  202 {"user":202,"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-west1-sendEmail"},"extension":{},"message":"\u001b[90m> \u001b[39m 202"}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-west1-sendEmail"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    server: 'nginx', {"user":"  server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-west1-sendEmail"},"extension":{},"message":"\u001b[90m> \u001b[39m   server: 'nginx',"}}
[info] >    date: 'Tue, 20 Dec 2022 10:05:30 GMT', {"user":"  date: 'Tue, 20 Dec 2022 10:05:30 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-west1-sendEmail"},"extension":{},"message":"\u001b[90m> \u001b[39m   date: 'Tue, 20 Dec 2022 10:05:30 GMT',"}}
[info] >    'content-length': '0', {"user":"  'content-length': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-west1-sendEmail"},"extension":{},"message":"\u001b[90m> \u001b[39m   'content-length': '0',"}}
[info] >    connection: 'close', {"user":"  connection: 'close',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-west1-sendEmail"},"extension":{},"message":"\u001b[90m> \u001b[39m   connection: 'close',"}}
[info] >    'x-message-id': 'sp4gaPV7S2yUBy65g_EhOw', {"user":"  'x-message-id': 'sp4gaPV7S2yUBy65g_EhOw',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-west1-sendEmail"},"extension":{},"message":"\u001b[90m> \u001b[39m   'x-message-id': 'sp4gaPV7S2yUBy65g_EhOw',"}}
[info] >    'access-control-allow-origin': 'https://sendgrid.api-docs.io', {"user":"  'access-control-allow-origin': 'https://sendgrid.api-docs.io',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-west1-sendEmail"},"extension":{},"message":"\u001b[90m> \u001b[39m   'access-control-allow-origin': 'https://sendgrid.api-docs.io',"}}
[info] >    'access-control-allow-methods': 'POST', {"user":"  'access-control-allow-methods': 'POST',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-west1-sendEmail"},"extension":{},"message":"\u001b[90m> \u001b[39m   'access-control-allow-methods': 'POST',"}}
[info] >    'access-control-allow-headers': 'Authorization, Content-Type, On-behalf-of, x-sg-elas-acl', {"user":"  'access-control-allow-headers': 'Authorization, Content-Type, On-behalf-of, x-sg-elas-acl',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-west1-sendEmail"},"extension":{},"message":"\u001b[90m> \u001b[39m   'access-control-allow-headers': 'Authorization, Content-Type, On-behalf-of, x-sg-elas-acl',"}}
[info] >    'access-control-max-age': '600', {"user":"  'access-control-max-age': '600',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-west1-sendEmail"},"extension":{},"message":"\u001b[90m> \u001b[39m   'access-control-max-age': '600',"}}
[info] >    'x-no-cors-reason': 'https://sendgrid.com/docs/Classroom/Basics/API/cors.html', {"user":"  'x-no-cors-reason': 'https://sendgrid.com/docs/Classroom/Basics/API/cors.html',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-west1-sendEmail"},"extension":{},"message":"\u001b[90m> \u001b[39m   'x-no-cors-reason': 'https://sendgrid.com/docs/Classroom/Basics/API/cors.html',"}}
[info] >    'strict-transport-security': 'max-age=600; includeSubDomains' {"user":"  'strict-transport-security': 'max-age=600; includeSubDomains'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-west1-sendEmail"},"extension":{},"message":"\u001b[90m> \u001b[39m   'strict-transport-security': 'max-age=600; includeSubDomains'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-west1-sendEmail"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2022-12-20T10:09:40.692Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-12-20T10:09:40.692Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-12-20T10:09:40.692Z] Accepted request POST /pugsllc/us-west1/sendEmail --> us-west1-sendEmail
[debug] [2022-12-20T10:09:40.693Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-12-20T10:09:40.693Z] [functions] Got req.url=/pugsllc/us-west1/sendEmail, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/pugsllc/us-west1/sendEmail, mapping to path=/"}}
[debug] [2022-12-20T10:09:40.693Z] [worker-pool] submitRequest(triggerId=us-west1-sendEmail) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-west1-sendEmail)"}}
[debug] [2022-12-20T10:09:40.693Z] [worker-us-west1-sendEmail-f071d881-d79f-412f-90d2-f407ecae87e7]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-west1-sendEmail-f071d881-d79f-412f-90d2-f407ecae87e7]: BUSY"}}
[info] i  functions: Beginning execution of "sendEmail" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-west1-sendEmail"},"extension":{},"message":"Beginning execution of \"sendEmail\""}}
[debug] [2022-12-20T10:09:40.697Z] [worker-us-west1-sendEmail-f071d881-d79f-412f-90d2-f407ecae87e7]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-west1-sendEmail-f071d881-d79f-412f-90d2-f407ecae87e7]: IDLE"}}
[debug] [2022-12-20T10:09:40.697Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] i  functions: Finished "sendEmail" in 1.973333ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-west1-sendEmail"},"extension":{},"message":"Finished \"sendEmail\" in 1.973333ms"}}
[info] >  202 {"user":202,"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-west1-sendEmail"},"extension":{},"message":"\u001b[90m> \u001b[39m 202"}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-west1-sendEmail"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    server: 'nginx', {"user":"  server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-west1-sendEmail"},"extension":{},"message":"\u001b[90m> \u001b[39m   server: 'nginx',"}}
[info] >    date: 'Tue, 20 Dec 2022 10:09:41 GMT', {"user":"  date: 'Tue, 20 Dec 2022 10:09:41 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-west1-sendEmail"},"extension":{},"message":"\u001b[90m> \u001b[39m   date: 'Tue, 20 Dec 2022 10:09:41 GMT',"}}
[info] >    'content-length': '0', {"user":"  'content-length': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-west1-sendEmail"},"extension":{},"message":"\u001b[90m> \u001b[39m   'content-length': '0',"}}
[info] >    connection: 'close', {"user":"  connection: 'close',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-west1-sendEmail"},"extension":{},"message":"\u001b[90m> \u001b[39m   connection: 'close',"}}
[info] >    'x-message-id': 'oFX1WUjCSMeV0nTH708h9A', {"user":"  'x-message-id': 'oFX1WUjCSMeV0nTH708h9A',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-west1-sendEmail"},"extension":{},"message":"\u001b[90m> \u001b[39m   'x-message-id': 'oFX1WUjCSMeV0nTH708h9A',"}}
[info] >    'access-control-allow-origin': 'https://sendgrid.api-docs.io', {"user":"  'access-control-allow-origin': 'https://sendgrid.api-docs.io',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-west1-sendEmail"},"extension":{},"message":"\u001b[90m> \u001b[39m   'access-control-allow-origin': 'https://sendgrid.api-docs.io',"}}
[info] >    'access-control-allow-methods': 'POST', {"user":"  'access-control-allow-methods': 'POST',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-west1-sendEmail"},"extension":{},"message":"\u001b[90m> \u001b[39m   'access-control-allow-methods': 'POST',"}}
[info] >    'access-control-allow-headers': 'Authorization, Content-Type, On-behalf-of, x-sg-elas-acl', {"user":"  'access-control-allow-headers': 'Authorization, Content-Type, On-behalf-of, x-sg-elas-acl',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-west1-sendEmail"},"extension":{},"message":"\u001b[90m> \u001b[39m   'access-control-allow-headers': 'Authorization, Content-Type, On-behalf-of, x-sg-elas-acl',"}}
[info] >    'access-control-max-age': '600', {"user":"  'access-control-max-age': '600',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-west1-sendEmail"},"extension":{},"message":"\u001b[90m> \u001b[39m   'access-control-max-age': '600',"}}
[info] >    'x-no-cors-reason': 'https://sendgrid.com/docs/Classroom/Basics/API/cors.html', {"user":"  'x-no-cors-reason': 'https://sendgrid.com/docs/Classroom/Basics/API/cors.html',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-west1-sendEmail"},"extension":{},"message":"\u001b[90m> \u001b[39m   'x-no-cors-reason': 'https://sendgrid.com/docs/Classroom/Basics/API/cors.html',"}}
[info] >    'strict-transport-security': 'max-age=600; includeSubDomains' {"user":"  'strict-transport-security': 'max-age=600; includeSubDomains'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-west1-sendEmail"},"extension":{},"message":"\u001b[90m> \u001b[39m   'strict-transport-security': 'max-age=600; includeSubDomains'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-west1-sendEmail"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
